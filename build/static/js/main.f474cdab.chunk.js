(this["webpackJsonpbayzat-fe-engineering-assignment"]=this["webpackJsonpbayzat-fe-engineering-assignment"]||[]).push([[0],{23:function(e,t,n){},24:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),s=n(15),i=n.n(s),a=(n(23),n(13)),o=(n(24),n(2)),u=n(6),l=n(8),j=n(1);function f(e){var t=e.label,n=void 0===t?"":t;return Object(j.jsxs)(j.Fragment,{children:[n&&Object(j.jsx)("label",{children:"Search Movies: "}),Object(j.jsx)("input",Object(l.a)({},e))]})}var h=n(5),v=n.n(h),b=n(10),d=n(29),O=n(30);function m(e){var t=e.movie,n=e.callToAction;return Object(j.jsxs)("div",{className:"movie",children:[Object(j.jsx)("h1",{className:"movie-title",children:t.title}),Object(j.jsxs)("p",{className:"movie-info",children:["Release date:"," ",Object(d.a)(new Date,Object(O.a)(t.release_date))," ","days ago"]}),n(t)]})}function x(e){var t=e.movies,n=e.searchStr,r=e.callToAction,c=e.filterFn,s=void 0===c?function(){return!0}:c,i=t.filter(s).filter((function(e){return e.title.toLocaleLowerCase().includes(n.toLocaleLowerCase())}));return i.length?Object(j.jsx)("div",{className:"movie-list max-height-100",children:i.map((function(e,t){return Object(j.jsx)(m,{movie:e,callToAction:r},t)}))}):Object(j.jsx)("div",{className:"empty-slot",children:"No Movies Found"})}var p=function(e){return e.movies},g=function(e){return e.shorlistedMovies},M=function(e){return e.setMovies},w=function(e){return e.shortlist},N=function(e){return e.removeShortlistedMovie},S=n(16),y=n.n(S),k=n(14),A=function(e,t){return{movies:[],setMovies:function(t){e((function(){return{movies:t}}))},shorlistedMovies:[],shortlist:function(t){e((function(e){return{shorlistedMovies:[].concat(Object(k.a)(e.shorlistedMovies),[t])}}))},removeShortlistedMovie:function(t){e((function(e){return{shorlistedMovies:Object(k.a)(e.shorlistedMovies.filter((function(e){return e.id!==t.id})))}}))}}},C=y()((function(e,t){return Object(l.a)({},A(e,t))})),F=n(17),L=n(18),T=new(function(){function e(){Object(F.a)(this,e),this.BASE_URL="/"}return Object(L.a)(e,[{key:"get",value:function(){var e=Object(b.a)(v.a.mark((function e(t,n){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(this.BASE_URL+t);case 2:return r=e.sent,e.next=5,r.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}()),B=function(){var e=Object(b.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.get("mock/movies.json");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function E(e){var t=e.label;return Object(j.jsx)("button",Object(l.a)(Object(l.a)({},e),{},{children:t}))}function R(e){var t=e.search,n=C(p),c=C(M),s=C(w),i=C(g);Object(r.useEffect)((function(){(function(){var e=Object(b.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[c]);var a=Object(r.useCallback)((function(e){return!i.find((function(t){return t.id===e.id}))}),[i]);return Object(j.jsxs)("section",{className:"w-100",children:[Object(j.jsx)("h1",{className:"section-title",children:"Available Movies"}),Object(j.jsx)(x,{movies:n,searchStr:t,filterFn:a,callToAction:function(e){return Object(j.jsx)(E,{className:"success",onClick:function(){return function(e){s(e)}(e)},label:"Add"})}})]})}function _(e){var t=e.search,n=C(g),r=C(N);return Object(j.jsxs)("section",{className:"w-100",children:[Object(j.jsx)("h1",{className:"section-title",children:"Shortlisted Movies"}),Object(j.jsx)(x,{movies:n,searchStr:t,callToAction:function(e){return Object(j.jsx)(E,{className:"danger",onClick:function(){return function(e){r(e)}(e)},label:"Remove"})}})]})}function z(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),n=t[0],c=t[1];return Object(j.jsxs)("section",{className:"movies-home",children:[Object(j.jsx)("div",{className:"movies-search",children:Object(j.jsx)(f,{label:"Search Movies: ",type:"search",placeholder:"Type for searching...",value:n,onChange:function(e){return c(e.target.value)}})}),Object(j.jsxs)("div",{className:"movies-list-wrapper",children:[Object(j.jsx)(R,{search:n}),Object(j.jsx)(_,{search:n})]})]})}function D(){return Object(j.jsx)(o.c,{children:Object(j.jsx)(o.a,{path:"/",element:Object(j.jsx)(z,{})})})}var I=function(){return Object(j.jsx)(a.a,{children:Object(j.jsx)(D,{})})},J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,31)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),s(e),i(e)}))};i.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(I,{})}),document.getElementById("root")),J()}},[[27,1,2]]]);
//# sourceMappingURL=main.f474cdab.chunk.js.map